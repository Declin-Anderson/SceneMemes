<!DOCTYPE html>
<html lang="en" >
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="CSS/main.css">
    <title>Scene Memes</title>
</head>
<body>
    <div id="TitleHeader" >
        <h1>Scene Memes</h1>
    </div>
    
    <div id="content">
        <div id= "SignUp" style="margin-left: 5%;">
            <h3>Register</h3>

            <!---Email Input-->
            <p>
                <label>Email: </label>
                <input type="email" id="EmailAddress"></input>
            </p>
            <!---Username Input-->
            <p>
                <label>Username: </label>
                <input type="text" id="Username"></input>
            </p>
            <!---Date of birth Input-->
            <p>
                <label>Date of Birth: </label>
                <input type="date" id="BirthDate"></input>
            </p>
            <!---Password requirement-->
            <p>
                Your password must include a... 
                <ul>
                    <li id="HasSymbol">Symbol</li>
                    <li id="HasLowercaseLetter">Lowercase letter</li>
                    <li id="HasUpperLetter">Capital Letter</li>
                    <li id="HasNumber">Number</li>
                </ul>
            </p>
            <!---password Input-->
            <p>
                <label>Password:</label>
                <input type="password" id="Password" oninput="UpdateTier()"></input><br>
                <div id="PasswordStrength">Weak</div>
            </p>
            <p>
                <select>
                    <option value="ST">State</option>
                    <option value="AL">Alabama</option>
                    <option value="AK">Alaska</option>
                    <option value="AZ">Arizona</option>
                    <option value="AR">Arkansas</option>
                    <option value="CA">California</option>
                    <option value="CO">Colorado</option>
                    <option value="CT">Connecticut</option>
                    <option value="DE">Delaware</option>
                    <option value="DC">District Of Columbia</option>
                    <option value="FL">Florida</option>
                    <option value="GA">Georgia</option>
                    <option value="HI">Hawaii</option>
                    <option value="ID">Idaho</option>
                    <option value="IL">Illinois</option>
                    <option value="IN">Indiana</option>
                    <option value="IA">Iowa</option>
                    <option value="KS">Kansas</option>
                    <option value="KY">Kentucky</option>
                    <option value="LA">Louisiana</option>
                    <option value="ME">Maine</option>
                    <option value="MD">Maryland</option>
                    <option value="MA">Massachusetts</option>
                    <option value="MI">Michigan</option>
                    <option value="MN">Minnesota</option>
                    <option value="MS">Mississippi</option>
                    <option value="MO">Missouri</option>
                    <option value="MT">Montana</option>
                    <option value="NE">Nebraska</option>
                    <option value="NV">Nevada</option>
                    <option value="NH">New Hampshire</option>
                    <option value="NJ">New Jersey</option>
                    <option value="NM">New Mexico</option>
                    <option value="NY">New York</option>
                    <option value="NC">North Carolina</option>
                    <option value="ND">North Dakota</option>
                    <option value="OH">Ohio</option>
                    <option value="OK">Oklahoma</option>
                    <option value="OR">Oregon</option>
                    <option value="PA">Pennsylvania</option>
                    <option value="RI">Rhode Island</option>
                    <option value="SC">South Carolina</option>
                    <option value="SD">South Dakota</option>
                    <option value="TN">Tennessee</option>
                    <option value="TX">Texas</option>
                    <option value="UT">Utah</option>
                    <option value="VT">Vermont</option>
                    <option value="VA">Virginia</option>
                    <option value="WA">Washington</option>
                    <option value="WV">West Virginia</option>
                    <option value="WI">Wisconsin</option>
                    <option value="WY">Wyoming</option>
                </select>				
            </p>
            
            <a href = "index.html">
                <button type="button" id="BackButton"> 
                    Back
                </button>
            </a>
            <button type="button" id="SubmitButton" onclick="EnterFunction()"> 
                Submit
            </button>

           

            <script>
                // checks the str for uppercase letters
                function CheckUpperCase (str){
                    const pattern = new RegExp("[A-Z]");
                    // Check if string is null or empty
                    if (!str || str.length == 0) {
                        return false;
                    }
                    // Check if the string has anything in the pattern
                    return pattern.test(str);
                } 

                // checks the str for lower case letters
                function CheckLowerCase (str){
                    const pattern = new RegExp("[a-z]");
                    // Check if string is null or empty
                    if (!str || str.length == 0) {
                        return false;
                    }
                    // Check if the string has anything in the pattern
                    return pattern.test(str);
                }

                // checks the str for numbers
                function CheckNumber (str){
                    const pattern = new RegExp("[0-9]");
                    // Check if string is null or empty
                    if (!str || str.length == 0) {
                        return false;
                    }
                    // Check if the string has anything in the pattern
                    return pattern.test(str);
                }
                
                // checks the str for numbers
                function CheckSymbol (str){
                    const pattern = /[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/;
                    // Check if string is null or empty
                    if (!str || str.length == 0) {
                        return false;
                    }
                    // Check if the string has anything in the pattern
                    return pattern.test(str);
                }
                
                var passwordObj = document.getElementById("Password");
                var passwordStrengthObj = document.getElementById("PasswordStrength");

                var SymbolPhrase = document.getElementById('HasSymbol');
                var LowercasePhrase = document.getElementById('HasLowercaseLetter');
                var UppercasePhrase = document.getElementById('HasUpperLetter');
                var NumberPhrase = document.getElementById('HasNumber');

                // Gets the back button
                var BackBtn = document.getElementById("BackButton");

                // Get the submit button
                var SubmitBtn = document.getElementById("SubmitButton");

                // changes the strength of the password
                function UpdateTier () {
                    var strength = passwordObj.value.length;
                    var newPassword = passwordObj.value;
                    if (CheckSymbol(newPassword)) {
                        strength++;
                    }
                    // sets the symbol requirement
                    if (CheckLowerCase(newPassword)) {
                        strength++;                    
                    }
                    // sets the symbol requirement
                    if (CheckUpperCase(newPassword)) {
                        strength++;                    
                    }
                    // sets the symbol requirement
                    if (CheckNumber(newPassword)) {
                        strength++;
                    }
                    if (strength < 4) {
                        PasswordStrength.innerHTML = "Weak";
                        PasswordStrength.style.color = "red";
                    } else if (strength < 9){
                        PasswordStrength.innerHTML = "Normal";
                        PasswordStrength.style.color = "orange";
                    } else if (strength >= 9) {
                        PasswordStrength.innerHTML = "Strong";
                        PasswordStrength.style.color = "lightgreen";
                    }
                }

                // Function that gets called when submit button is clicked
                function EnterFunction () {
                    var newPassword = passwordObj.value;
                    // sets the symbol requirement
                    if (CheckSymbol(newPassword)) {
                        SymbolPhrase.innerHTML = "&check; Symbol";
                        SymbolPhrase.style.color = "green";
                    } else {
                        SymbolPhrase.innerHTML = "&#9747; Symbol";
                        SymbolPhrase.style.color = "red";
                    }
                    // sets the symbol requirement
                    if (CheckLowerCase(newPassword)) {
                        LowercasePhrase.innerHTML = "&check; Lowercase letter";
                        LowercasePhrase.style.color = "green";
                    } else {
                        LowercasePhrase.innerHTML = "&#9747; Lowercase letter";
                        LowercasePhrase.style.color = "red";
                    }
                    // sets the symbol requirement
                    if (CheckUpperCase(newPassword)) {
                        UppercasePhrase.innerHTML = "&check; Capital Letter";
                        UppercasePhrase.style.color = "green";
                    } else {
                        UppercasePhrase.innerHTML = "&#9747; Capital Letter";
                        UppercasePhrase.style.color = "red";
                    }
                    // sets the symbol requirement
                    if (CheckNumber(newPassword)) {
                        NumberPhrase.innerHTML = "&check; Number";
                        NumberPhrase.style.color = 'green';
                    } else {
                        NumberPhrase.innerHTML = "&#9747; Number";
                        NumberPhrase.style.color = "red";
                    }
                    if (CheckNumber(newPassword) && CheckUpperCase(newPassword) && CheckLowerCase(newPassword) && CheckSymbol(newPassword)) {
                        location.href = "mainpage.html";
                    }
                }

            </script>
        </div>
    </div>
</body>
</html>